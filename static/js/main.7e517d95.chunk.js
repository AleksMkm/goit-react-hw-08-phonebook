(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(e,t,n){e.exports={contact:"Contact_contact__xLyK5",icon:"Contact_icon__1xfde",name:"Contact_name__3Pmox",phone:"Contact_phone__3zMCW"}},22:function(e,t,n){e.exports={form:"Filter_form__E8jBb",label:"Filter_label__2a_di",title:"Filter_title__2nr-g",searchField:"Filter_searchField__1SwNg"}},24:function(e,t,n){e.exports={section:"Section_section__3drkJ",title:"Section_title__1lNt_",flex:"Section_flex__1wil2"}},41:function(e,t,n){e.exports={container:"Container_container__TFfLb"}},42:function(e,t,n){e.exports={iconBtn:"IconButton_iconBtn__3458e"}},46:function(e,t,n){e.exports={contactList:"ContactList_contactList__1xAAD"}},48:function(e,t,n){e.exports={wrapper:"Footer_wrapper__bRcO0"}},81:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"changeFilter",(function(){return m}));var c={};n.r(c),n.d(c,"fetchContacts",(function(){return q})),n.d(c,"addContact",(function(){return z})),n.d(c,"deleteContact",(function(){return B}));var a={};n.r(a),n.d(a,"getContacts",(function(){return ie})),n.d(a,"getFilter",(function(){return ue})),n.d(a,"getLoadingData",(function(){return se})),n.d(a,"getErrorData",(function(){return le})),n.d(a,"getFilteredContacts",(function(){return de}));var o=n(2),i=n(0),u=n.n(i),s=n(14),l=n.n(s),d=n(6),b=n(8),j=n(3),f=n(5),p=n(12),m=Object(b.b)("filter/change"),O=n(4),h=n.n(O),x=n(7),_=n(21),v=n.n(_);function g(){return C.apply(this,arguments)}function C(){return(C=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/contacts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return y.apply(this,arguments)}function y(){return(y=Object(x.a)(h.a.mark((function e(t,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t,number:n},e.next=3,v.a.post("/contacts",r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return w.apply(this,arguments)}function w(){return(w=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("/contacts/".concat(t));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}v.a.defaults.baseURL="http://localhost:4040";var k,L,S,q=Object(b.c)("contacts/fetchContacts",function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,g();case 4:return c=e.sent,console.log("om ok"),e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(b.c)("contacts/addContact",function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r,c,a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,c=t.number,a=n.rejectWithValue,e.prev=2,e.next=5,N(r,c);case 5:return o=e.sent,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",a(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(b.c)("contacts/deleteContact",function(){var e=Object(x.a)(h.a.mark((function e(t,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,c=F(t),e.abrupt("return",c);case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(b.d)([],(k={},Object(j.a)(k,q.fulfilled,(function(e,t){return t.payload})),Object(j.a)(k,z.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(f.a)(e),[n])})),Object(j.a)(k,B.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),k)),M=Object(b.d)("",Object(j.a)({},m,(function(e,t){return t.payload}))),A=Object(b.d)(!1,(L={},Object(j.a)(L,q.pending,(function(){return!0})),Object(j.a)(L,q.fulfilled,(function(){return!1})),Object(j.a)(L,q.rejected,(function(){return!1})),Object(j.a)(L,z.pending,(function(){return!0})),Object(j.a)(L,z.fulfilled,(function(){return!1})),Object(j.a)(L,z.rejected,(function(){return!1})),Object(j.a)(L,B.pending,(function(){return!0})),Object(j.a)(L,B.fulfilled,(function(){return!1})),Object(j.a)(L,B.rejected,(function(){return!1})),L)),D=Object(b.d)(null,(S={},Object(j.a)(S,q.rejected,(function(e,t){return t.payload})),Object(j.a)(S,q.pending,(function(){return null})),Object(j.a)(S,z.rejected,(function(e,t){return t.payload})),Object(j.a)(S,z.pending,(function(){return null})),Object(j.a)(S,B.rejected,(function(e,t){return t.payload})),Object(j.a)(S,B.pending,(function(){return null})),S)),P=Object(p.c)({contacts:E,filter:M,isLoading:A,error:D}),W=Object(b.a)({reducer:P,devTools:!1}),I=(n(81),n(41)),J=n.n(I);function R(e){var t=e.children;return Object(o.jsx)("div",{className:J.a.container,children:t})}var V=n(43),H=n.n(V),T=n(44),Z=n.n(T),$=n(45),K=n.n($),U=n(16),X=n.n(U),G=n(31),Q=n(50),Y=n(42),ee=n.n(Y);function te(e){var t=e.children,n=e.onClick,r=Object(Q.a)(e,["children","onClick"]);return Object(o.jsx)("button",Object(G.a)(Object(G.a)({type:"button",className:ee.a.iconBtn,onClick:n},r),{},{children:t}))}te.defaultProps={onClick:function(){return null},children:null};var ne=te;var re=function(e){var t=e.id,n=e.name,r=e.phone,c=e.deleteHandler;return Object(o.jsxs)("li",{className:X.a.contact,children:[Object(o.jsxs)("span",{className:X.a.name,children:[Object(o.jsx)(H.a,{className:X.a.icon}),n]}),Object(o.jsxs)("span",{className:X.a.phone,children:[Object(o.jsx)(Z.a,{className:X.a.icon}),r]}),Object(o.jsx)(ne,{onClick:c,"aria-label":"delete contact",children:Object(o.jsx)(K.a,{})})]},t)},ce=n(46),ae=n.n(ce),oe=n(23),ie=function(e){return e.contacts},ue=function(e){return e.filter},se=function(e){return e.isLoading},le=function(e){return e.error},de=Object(oe.a)([ue,ie],(function(e,t){var n=e.toLowerCase().trim();return t.filter((function(e){var t;return null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n)}))})),be=a.getContacts,je=a.getFilter,fe=a.getFilteredContacts;var pe=function(){var e=Object(d.c)(be),t=Object(d.c)(je),n=Object(d.c)(fe),r=Object(d.b)(),a=t.trim()?n:e;return Object(o.jsx)("ul",{className:ae.a.contactList,children:a.map((function(e){return re({id:e.id,name:e.name,phone:e.number,deleteHandler:function(){return r(c.deleteContact(e.id))}})}))})},me=n(49),Oe=n(9),he=n.n(Oe);var xe=function(){var e=Object(me.a)(),t=e.register,n=e.handleSubmit,r=e.errors,u=e.reset,s=Object(i.useRef)(),l=Object(d.c)(a.getContacts),b=Object(d.b)();return Object(o.jsxs)("form",{className:he.a.form,onSubmit:n((function(e){l.find((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in Phonebook")):(b(c.addContact({name:e.name.trim(),number:e.number.trim()})),s.current.blur(),u({}))})),children:[Object(o.jsxs)("label",{className:he.a.label,children:[Object(o.jsx)("input",{ref:t({required:!0,minLength:3,maxLength:18,pattern:/^[A-Za-z]+([ A-Za-z]+)*$/}),className:he.a.addField,type:"text",name:"name",placeholder:"name"}),r.name&&"required"===r.name.type&&Object(o.jsx)("p",{className:he.a.error,children:"Name is required"}),r.name&&"minLength"===r.name.type&&Object(o.jsx)("p",{className:he.a.error,children:"Name is too short. Minimum 3 characters."}),r.name&&"maxLength"===r.name.type&&Object(o.jsx)("p",{className:he.a.error,children:"Name is too long. Maximum 18 characters."}),r.name&&"pattern"===r.name.type&&Object(o.jsx)("p",{className:he.a.error,children:"Name can contain only english letters."})]}),Object(o.jsxs)("label",{className:he.a.label,children:[Object(o.jsx)("input",{ref:t({required:!0,maxLength:12,pattern:/^\d+$/}),className:he.a.addField,type:"text",name:"number",placeholder:"xxxx-xx-xx"}),r.number&&"required"===r.number.type&&Object(o.jsx)("p",{className:he.a.error,children:"Number is required"}),r.number&&"pattern"===r.number.type&&Object(o.jsx)("p",{className:he.a.error,children:"Phone number should consist only from numbers."}),r.number&&"maxLength"===r.number.type&&Object(o.jsx)("p",{className:he.a.error,children:"Number is too long. Maximum 12 digits."})]}),Object(o.jsx)("button",{ref:s,className:he.a.btn,type:"submit",children:"Add contact"})]})},_e=n(24),ve=n.n(_e);var ge=function(e){var t=e.title,n=e.children,r=e.flex?ve.a.flex:"";return Object(o.jsxs)("section",{className:ve.a.section+" "+r,children:[Object(o.jsx)("p",{className:ve.a.title,children:t}),n]})},Ce=n(22),Ne=n.n(Ce);var ye=function(){var e=Object(d.c)(a.getFilter),t=Object(d.b)();return Object(o.jsx)("form",{className:Ne.a.form,children:Object(o.jsxs)("label",{className:Ne.a.label,children:[Object(o.jsx)("span",{className:Ne.a.title,children:"Find contacts by name"}),Object(o.jsx)("input",{className:Ne.a.searchField,type:"text",value:e,onChange:function(e){return t(r.changeFilter(e.target.value))}})]})})},Fe=n(47),we=n.n(Fe);var ke=function(){return Object(o.jsx)(we.a,{size:30,margin:10,color:"black",loading:!0})},Le=n(48),Se=n.n(Le);var qe=function(){return Object(o.jsx)("div",{className:Se.a.wrapper,children:"(c) Student project"})};var ze=function(){var e=Object(d.c)(a.getContacts),t=Object(d.c)(a.getErrorData),n=Object(d.c)(a.getLoadingData),r=Object(d.b)();return Object(i.useEffect)((function(){r(c.fetchContacts())}),[]),Object(o.jsxs)(R,{children:[Object(o.jsx)(ge,{title:"Phonebook",flex:!1,children:Object(o.jsx)(xe,{})}),Object(o.jsx)(ge,{title:"Contacts",flex:!0,children:n?Object(o.jsx)(ke,{}):e.length?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ye,{}),Object(o.jsx)(pe,{})]}):t?Object(o.jsxs)("div",{children:["Oops. ",t,"."]}):Object(o.jsx)("div",{children:"Oops. no contacts here! Let's add some data!"})}),Object(o.jsx)(qe,{})]})};l.a.render(Object(o.jsx)(u.a.StrictMode,{children:Object(o.jsx)(d.a,{store:W,children:Object(o.jsx)(ze,{})})}),document.getElementById("root"))},9:function(e,t,n){e.exports={form:"ContactForm_form__3MI-C",label:"ContactForm_label__kXjOj",addField:"ContactForm_addField__3Nkt7",btn:"ContactForm_btn__2q0l9",error:"ContactForm_error__3tzzE"}}},[[89,1,2]]]);
//# sourceMappingURL=main.7e517d95.chunk.js.map